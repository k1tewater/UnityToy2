using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UIElements;

public class Pattern
{
    public LinkedList<float[]> code { get; } // [[key, ypos], [key, ypos] ...]

    public Pattern(Define.Tracks track)
    {
        code = new LinkedList<float[]>();

        string[] codeArr = GetCodeString(track).Split(' ');
        foreach (string value in codeArr)
        {
            float key = GetKey(value[0]);
            float yPos = float.Parse(value.Substring(1));
            code.AddLast(new float[] { key, yPos });
        }
    }

    private string GetCodeString(Define.Tracks track)
    {
        String codeString = "";
        switch (track)
        {
            case Define.Tracks.Nightmare:
                codeString ="D1";
                //"J30.46041 D30.48018 K32.6563 J35.01893 F37.71874 J38.29417 D39.13517 D42.94953 J42.94953 F43.83553 K45.34082 J46.90172 F48.53545 J55.60379 D55.62409 F57.9646 J59.53853 D61.1699 J64.12455 F65.88006 D67.35252 J68.11084 K68.9377 F69.76575 D70.52019 K72.73602 F75.3117 J76.0387 D76.77672 K78.3198 D80.91693 D83.25579 K84.05285 F84.76598 D85.57199 D87.83315 D88.6609 K90.22935 D91.00294 D92.70355 D93.48077 D95.8215 K96.54487 F97.2426 D98.0797 D100.485 D101.3753 K102.8849 D103.577 D105.3299 D106.1346 D108.5845 K109.2329 F109.9278 D110.6699 D113.0892 D113.9543 K115.5988 D116.3256 D117.8869 D118.6561 D121.0994 K121.7855 F122.5344 D123.2859 D125.6737 D126.5361 K128.1256 D128.7974 D130.4331 K131.1341 K133.6123 D135.4051 J136.0782 K136.8687 F137.6708 D142.2948 F143.1713 J143.8762 K151.053 J151.8269 D152.561 F153.4088 K154.1208 D154.948 J155.5634 J156.4761 F158.871 J159.6044 K160.4688 J161.2643 F162.0631 D162.8989 J167.689 F168.3341 D169.138 F169.9179 J170.6194 K171.4865 D172.3301 F173.0824 J173.8222 K174.6482 D175.4773 F176.2336 J177.1225 K178.0113 D178.8068 F179.5625 J180.277 K181.1248 F181.9309 J184.0372 D184.8795 F185.6921 J186.396 K187.228 F188.113 K190.3831 J192.0406 F192.7364 D193.5423 J194.3015 F196.6289 D197.486 F198.2691 J198.9941 K199.8324 D200.6696 F201.3874 J202.1486 K203.0373 F203.9404 J204.6694 F205.3902 D206.1256 J206.9555 F209.4589 F210.2902 K210.9645 F211.6881 J212.4639 D213.3528 F214.1343 J214.8058 K215.6376 J216.4451 F217.2443 D218.1342 F218.8395 J219.5569 K220.3369 F221.3061 D221.8327 D222.8056 F223.59 J224.3927 K225.044 D225.9786 F226.6256 J227.4404 K228.2735 J229.0258 K229.8826 D230.7431 F231.5407 D232.1698 K233.8648 K237.0581 J238.614 D240.2015 K240.236 K241.8948 F242.6028 J242.6028 D243.5316 F244.2358 D244.982 K246.5755 K248.2054 K250.6614 J251.2581 D252.9115 F254.4669 K255.3072 J256.0836 K256.8118 D257.6893 K259.1815 J260.847 K262.2345 D262.3157 K263.9415 F265.4603 J265.4603 D267.0731 J267.8274 F268.6375 J270.1938 D271.8323 J273.3978 K274.9812 F275.0023 K275.7889 K277.3746 K278.1178 K279.8497 K280.5937 K282.2049 D283.0072 K284.4174 J286.0251 K287.587 D287.6066 K289.1145 F290.6444 J290.7079 D292.2234 J293.0661 F293.8723 J295.5145 K296.4577 F297.1722 J297.4541 J298.8152 J301.1324 J303.3029 D305.1096 J305.7467 F306.4772 J308.09 F309.7819 K310.617 J312.821 F312.9582 K314.5967 J316.0412 F316.0636 D317.712 J318.4065 F319.1354 J319.9491 K320.5589 D322.4387 D325.3909 D326.2225 D327.7813 D328.5187 D330.3135 F331.8222 D333.3416 K333.4052 J336.4773 K338.3239 J342.8438 F342.9184 F345.9763 K346.0586 J349.099 D349.2644 K350.8863 J355.4712 F357.1954 J358.5068 D358.6679 F361.8418 D363.4301 F363.452 J364.2599 K364.9849 F368.1566 D371.3272 F374.5219 J374.5593 K376.0671 D376.0862 J377.1575 F379.1475 J380.7453 K383.2935 K384.0115 D384.0312 K386.3813 J387.1653 K387.832 K388.6714 K391.0523 K391.8406 J393.2631 F393.4155 D394.2747 D395.7652 K396.4912 D396.5114 D398.8516 J399.6048 F399.8997 D400.5728 D401.4046 D403.6077 D404.4606 F406.1376 D406.7791 K407.6353 D408.385 K409.048 D409.2012 D411.4085 F412.1803 D413.0666 D413.8758 D416.158 D417.0435 F418.7668 D419.5169 D421.0943 D421.9094 D424.2194 F425.0403 D425.7235 D426.5268 D428.8932 D429.7902 F431.2619 J431.2974 D432.0424 D433.6821 K434.4888 J435.186 F436.0027 D436.739 K437.6114 J438.3069 F439.1725 D439.9707 F440.7271 F441.5122 J442.1986 J443.0385 F443.7921 K444.6354 K445.4598 F446.0801 D446.9123 D447.7691 F448.5426 F449.4054 J450.1661 J450.9348 K451.7287 K452.5308 J453.3575 F454.244 D454.9958 F455.8581 J456.473 K457.3387 K458.1207 F458.9222 K459.7644 J460.5154 F461.3374 D462.1405 K462.9875 J463.7021 F464.5608 D465.3937 K466.1797 J466.9554 F467.7075 D468.5166 F469.2937 J469.9944 K470.9121 K471.7193 J472.3425 F473.2541 J473.9172 D474.7269 J475.451 F476.1848 F477.0934 K477.8419 D478.6521 J479.3735 J480.3115 F480.9356 D481.7646 F482.5206 J483.218 K484.0513 J484.8947 F485.563 J485.9307 D486.5195 J486.769 D487.4078 K487.7898 F488.4282 K488.7521 F489.485 J490.0266 F490.5238 K491.0791 D491.6788 K492.1443 F492.7927 J493.3502 F493.8161 D494.5328 J494.8541 F495.5901 K495.887 F496.5831 J497.0012 D497.604 J497.981 D498.5557 J499.0303 F499.5623 J500.0191 F500.5499 K501.206 F501.7383 J502.3525 F502.8087 J503.3051 D503.9172 D504.8499 K505.4146 F505.9826 K506.4137 F506.9011 J507.5189 D507.9451 K508.5351 F509.0762 J509.6636 F510.089 J510.6008 F511.1632 K511.7162 F512.3048 K512.7317 F513.2738 J513.8014 F514.3489 J514.7722 D515.4069 J515.9041 F516.4393 K516.8515 F517.4855 J518.0302 D518.5875 J519.0404 F519.6867 K520.0679 F520.718 J521.1992 D521.7888 J522.2297 F522.8042 J523.1878 F523.806 K524.2587 F524.9628 K525.3856 F525.9333 J526.462 F527.0251 J527.4283 D528.0198 J528.4827 F529.067 K529.5372 F530.1195 J530.6026 D531.1406 J531.6246 F532.264 K532.6481 F533.2566 J533.8039 F534.2866 J534.8 K535.3049 D535.4409 F537.1666 K538.5107 J540.1517 F540.9047 F542.556 K543.1247 J544.8546 D545.5947 F546.438 K548.1264 F549.6571 K551.1641 J552.7796 D553.5786 F555.1953 K555.9768 J557.4557 F559.0419 D559.9813 K560.7607 F562.3177 K563.9094 J565.4321 D566.2427 F567.8885 K568.4711 J570.2712 F571.0002 D571.827 K573.3984 F574.9047 K576.4261 J577.9659 D578.7649 F580.432 D581.2911 K582.8546 F584.3557 J585.1437 D585.9418";
                //-position.y-2 > codeString
                break;
        }
        return codeString;
    }

    private float GetKey(char c)
    {
        switch (c)
        {
            case 'D':
                return -1.5f;
            case 'F':
                return -0.5f;
            case 'J':
                return 0.5f;
            case 'K':
                return 1.5f;
            default:
                return 0f;
        }
    }
}
